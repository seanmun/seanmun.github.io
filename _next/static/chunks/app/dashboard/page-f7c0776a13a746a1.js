(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{91385:(e,t,a)=>{Promise.resolve().then(a.bind(a,45637)),Promise.resolve().then(a.bind(a,52634))},45637:(e,t,a)=>{"use strict";a.d(t,{default:()=>y});var s=a(95155),r=a(12115),i=a(58581),l=a(94973),d=a(15255),n=a(12800),o=a(66963),c=a(27112),h=a(16161),m=a(394),g=a(23021),u=a(22175),x=a(90457),b=a(67732),p=a(49904),w=a(27058);let f=(0,p.Wp)({projectId:"seanmun-c4888",apiKey:"AIzaSyALMkgSpqMKo_dzA7y11LEr-ZbKV8WlGvE",authDomain:"seanmun-c4888.firebaseapp.com"}),j=(0,w.aU)(f);function y(){let[e,t]=(0,r.useState)([]),[a,p]=(0,r.useState)(!0),[f,y]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async function(){try{let e=new Date;e.setDate(e.getDate()-7);let a=(0,w.rJ)(j,"pageviews"),s=(0,w.P)(a,(0,w._M)("timestamp",">=",w.Dc.fromDate(e)),(0,w.My)("timestamp","desc")),r=(await (0,w.GG)(s)).docs.map(e=>{let t=e.data();return{id:e.id,cookieId:t.cookieId,timestamp:t.timestamp.toDate(),eventType:t.eventType,geolocation:t.geolocation}});t(r)}catch(e){console.error("Error fetching data:",e),y(e instanceof Error?e.message:"An error occurred")}finally{p(!1)}})()},[]),a)return(0,s.jsx)("div",{children:"Loading analytics data..."});if(f)return(0,s.jsxs)("div",{children:["Error loading analytics: ",f]});let v=e.map(e=>({timestamp:e.timestamp,visits:1})),k=new Set(e.map(e=>e.cookieId)).size,N=Array.from({length:24},(t,a)=>({hour:a,visits:e.filter(e=>new Date(e.timestamp).getHours()===a).length})),S=Object.values(e.reduce((e,t)=>(e[t.cookieId]=(e[t.cookieId]||0)+1,e),{})).reduce((e,t)=>{let a=1===t?"New":"Returning";return e[a]=(e[a]||0)+1,e},{}),E=[{name:"New",value:S.New||0},{name:"Returning",value:S.Returning||0}],D=["#0088FE","#00C49F","#FFBB28","#FF8042"];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 dark:text-white",children:"Total Pageviews"}),(0,s.jsx)("p",{className:"text-3xl font-bold dark:text-white",children:e.length})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 dark:text-white",children:"Unique Visitors"}),(0,s.jsx)("p",{className:"text-3xl font-bold dark:text-white",children:k})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2 dark:text-white",children:"Locations Tracked"}),(0,s.jsx)("p",{className:"text-3xl font-bold dark:text-white",children:e.filter(e=>e.geolocation).length})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Pageviews Over Time"}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(i.u,{width:"100%",height:"100%",children:(0,s.jsxs)(l.b,{data:v,children:[(0,s.jsx)(d.d,{strokeDasharray:"3 3"}),(0,s.jsx)(n.W,{dataKey:"timestamp",tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,s.jsx)(o.h,{}),(0,s.jsx)(c.m,{labelFormatter:e=>new Date(e).toLocaleString()}),(0,s.jsx)(h.N,{type:"monotone",dataKey:"visits",stroke:"#8884d8",strokeWidth:2})]})})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Visits by Hour"}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(i.u,{width:"100%",height:"100%",children:(0,s.jsxs)(m.E,{data:N,children:[(0,s.jsx)(d.d,{strokeDasharray:"3 3"}),(0,s.jsx)(n.W,{dataKey:"hour",tickFormatter:e=>"".concat(e,":00")}),(0,s.jsx)(o.h,{}),(0,s.jsx)(c.m,{labelFormatter:e=>"".concat(e,":00 - ").concat(e+1,":00")}),(0,s.jsx)(g.y,{dataKey:"visits",fill:"#82ca9d"})]})})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:"Visitor Types"}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(i.u,{width:"100%",height:"100%",children:(0,s.jsxs)(u.r,{children:[(0,s.jsx)(x.F,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t," (").concat((100*a).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:E.map((e,t)=>(0,s.jsx)(b.f,{fill:D[t%D.length]},"cell-".concat(t)))}),(0,s.jsx)(c.m,{})]})})})]})]})}},52634:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(95155),r=a(12115),i=a(76779);function l(e){let{children:t}=e,[a,l]=(0,r.useState)(!1),[d,n]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),{settings:h}=(0,i.d)();return a?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{className:"absolute top-0 left-0 right-0 bottom-0 backdrop-blur-md bg-white/30 dark:bg-gray-900/30 flex flex-col items-center justify-center z-40 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Dashboard Access"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Please enter the password to view analytics."})]}),(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),console.log("Entered password:",d),console.log("Expected password:","Sheba"),"Sheba"===d?(l(!0),n(""),c("")):c("Incorrect password")},className:"w-full max-w-md px-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg",children:[(0,s.jsx)("input",{type:"password",value:d,onChange:e=>n(e.target.value),placeholder:"Enter password",className:"w-full p-2 mb-3 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),o&&(0,s.jsx)("p",{className:"text-red-500 text-sm mb-3",children:o}),(0,s.jsx)("button",{type:"submit",className:"w-full py-2 rounded transition-colors ".concat("amber"===h.theme?"bg-amber-600 hover:bg-amber-700":"bg-blue-600 hover:bg-blue-700"," text-white"),children:"Submit"})]})})]})}},76779:(e,t,a)=>{"use strict";a.d(t,{d:()=>i});var s=a(12115);let r={fontSize:"medium",lineHeight:"normal",theme:"light"};function i(){let[e,t]=(0,s.useState)(r),[a,i]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("accessibilitySettings");if(e)t(JSON.parse(e));else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches;t(t=>({...t,theme:e?"dark":"light"}))}let a=window.matchMedia("(prefers-color-scheme: dark)"),s=e=>{localStorage.getItem("accessibilitySettings")||t(t=>({...t,theme:e.matches?"dark":"light"}))};return a.addEventListener("change",s),i(!0),()=>a.removeEventListener("change",s)},[]),(0,s.useEffect)(()=>{a&&(e!==r&&localStorage.setItem("accessibilitySettings",JSON.stringify(e)),document.documentElement.classList.remove("light","dark","amber"),document.documentElement.classList.add(e.theme),document.documentElement.setAttribute("data-theme",e.theme),document.documentElement.style.fontSize=({small:"15px",medium:"16px",large:"19px"})[e.fontSize],document.body.classList.remove("line-height-normal","line-height-relaxed","line-height-loose"),document.body.classList.add("line-height-".concat(e.lineHeight)))},[e,a]),{settings:e,setSettings:t,isInitialized:a}}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,164,441,517,358],()=>t(91385)),_N_E=e.O()}]);